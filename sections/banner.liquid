{% stylesheet %}
  .banner .swiper-button-prev {
    position: absolute;
    left: -60px !important;
    top: 50%;
    transform: translateY(-50%);
    width: 44px;
    height: 44px;
  }
  .banner .swiper-button-next {
    position: absolute;
    right: -60px !important;
    top: 50%;
    transform: translateY(-50%);
    width: 44px;
    height: 44px;
  }

  .swiper-button-next:after,
  .swiper-button-prev:after {
    font-size: 15px;
    color: #65a241;
  }
  .swiper-button-next:hover:after,
  .swiper-button-prev:hover:after {
    color: #fff;
  }

  /* Equal Height Fix */
  .banner .swiper-slide {
    height: auto !important;
  }
  .banner .swiper-slide > div {
    height: 100%;
  }

  .banner-card {
    background: #f8f8f8;
    transition: 0.3s ease;
    display: flex;
    gap: 24px;
    padding: 8px;
    border-radius: 16px;
    height: 100%; /* equal height */
  }

  .image-box {
    width: 40%;
  }
  .info {
    width: 60%;
  }
  .banner-card p {
    color: #444;
  }
  .banner-card .stars img {
    width: 18px;
    height: 18px;
  }

  .banner .swiper-pagination-bullet {
    width: 10px;
    height: 10px;
    background: transparent;
    opacity: 1;
    transition: all 0.3s ease;
    border: 1px solid #252624;
  }

  .banner .swiper-pagination-bullet-active {
    background: #252624;
    width: 28px;
    height: 10px;
    border-radius: 10px;
    transform: scale(1.2);
  }

  @media (max-width: 768px) {
    .image-box,
    .info {
      width: 100%;
    }
    .banner .swiper-button-prev,
    .banner .swiper-button-next {
      display: none;
    }
    .banner-card {
      gap: 16px;
      padding: 8px;
      border-radius: 12px;
    }
  }
{% endstylesheet %}

<div class="banner relative">
    <div class="relative">
      <div class="swiper banner-slider">
        <div class="swiper-wrapper">
          {% for block in section.blocks %}
            <div class="swiper-slide bg-[{{ block.settings.bg_color }}] py-15 md:py-20 lg:py-25 xl:py-30" {{ block.shopify_attributes }}>
              <div class="container flex items-center gap-4 justify-between">
                <div class="max-w-137.5">
                    <p class="text-lg lg:text-xl font-bold text-subheading font-poppins flex items-center gap-1 mb-4 lg:mb-5">
                      <span class="text-primary">{{ block.settings.highlight_text }}</span>
                      {{ block.settings.subtitle }}
                    </p>
                    <h1 class="text-4xl lg:text-5xl xl:text-[55px] text-black mb-4 lg:mb-5">
                      {{ block.settings.heading }}
                    </h1>
                    <p class="text-para text-sm md:text-base">
                      {{ block.settings.description }}
                    </p>
                  <a href="{{ block.settings.button_link }}" class="btn mt-5 lg:mt-6">{{ block.settings.button_text }}</a>
                </div>
                <div class="">
                  {% if block.settings.image %}
                    {{ block.settings.image | image_url: width: 400 | image_tag: class: 'size-full md:size-75 lg:size-85 rounded-full', loading: 'lazy' }}
                  {% endif %}
                </div>
              </div>
            </div>
          {% endfor %}
        </div>

        <div class="swiper-pagination md:hidden"></div>
      </div>

      <div class="swiper-button-prev bg-white border border-solid border-[#F0F0F0] hover:bg-[#2E2E2E] transition-all duration-300 rounded-full w-11 h-11 flex items-center justify-center shadow"></div>
      <div class="swiper-button-next bg-white border border-solid border-[#F0F0F0] hover:bg-[#2E2E2E] transition-all duration-300 rounded-full w-11 h-11 flex items-center justify-center shadow"></div>
    </div>
</div>

{% javascript %}
  const swiper = new Swiper('.banner-slider', {
    slidesPerView: 1,
    spaceBetween: 28,
    pagination: { el: '.swiper-pagination', clickable: true },
    navigation: { nextEl: '.swiper-button-next', prevEl: '.swiper-button-prev' },
    breakpoints: {
      320: { slidesPerView: 1.1, spaceBetween: 8 },
      768: { slidesPerView: 1 },
      992: { slidesPerView: 1 },
    },
  });
{% endjavascript %}

{% schema %}
{
  "name": "Banner Slider",
  "tag": "section",
  "class": "banner-section",
  "settings": [],
  "blocks": [
    {
      "type": "slide",
      "name": "Slide",
      "settings": [
        {
          "type": "color",
          "id": "bg_color",
          "label": "Background Color",
          "default": "#F2D3BF"
        },
        {
          "type": "text",
          "id": "highlight_text",
          "label": "Highlight Text",
          "default": "100%"
        },
        {
          "type": "text",
          "id": "subtitle",
          "label": "Subtitle",
          "default": "Organic Vegetables"
        },
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "The Best Organic Products"
        },
        {
          "type": "richtext",
          "id": "description",
          "label": "Description",
          "default": "<p>Lorem ipsum dolor sit amet consectetur adipiscing elit</p>"
        },
        {
          "type": "text",
          "id": "button_text",
          "label": "Button Text",
          "default": "shop now"
        },
        {
          "type": "url",
          "id": "button_link",
          "label": "Button Link"
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "Banner Image"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Banner Slider",
      "blocks": [
        {
          "type": "slide"
        },
        {
          "type": "slide"
        }
      ]
    }
  ]
}
{% endschema %}
